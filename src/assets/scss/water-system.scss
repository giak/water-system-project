.water-system {
  @apply grid grid-rows-[auto_1fr_auto] gap-2.5 w-full h-screen m-0 p-2.5 box-border;
  
  &__header {
    @apply row-start-1 grid grid-rows-[auto_auto] gap-5 w-full;
  }

  &__title {
    @apply text-center text-[#4682b4] w-full;
  }
  
  &__controls {
    @apply grid grid-cols-[1fr_auto] items-center gap-5 w-full;
  }
  
  &__slider {
    @apply grid grid-cols-[auto_1fr_auto] items-center gap-2.5;
    
    input[type="range"] {
      @apply w-full;
    }
  }
  
  &__buttons {
    @apply grid grid-cols-2 gap-2.5;
  }
  
  &__components {
    @apply row-start-2 grid grid-cols-4 auto-rows-min gap-5 overflow-y-auto w-full h-full;
    grid-template-areas:
      "glacier dam dam weather"
      "power dam dam distribution"
      "irrigation quality flood user";
  }

  &__alerts {
    @apply row-start-3 w-full;
  }
}

.btn {
  @apply py-2.5 px-3.5 border-none rounded cursor-pointer transition-colors duration-300;
  
  &--mode {
    @apply bg-green-500 text-white hover:bg-green-600;
  }
  
  &--reset {
    @apply bg-red-500 text-white hover:bg-red-600;
  }

  &--auto {
    @apply bg-green-500 text-white;
  }

  &--manual {
    @apply bg-red-500 text-white;
  }
}

%component-base {
  @apply flex flex-col min-h-0 h-auto overflow-hidden border border-[#4682b4] rounded-lg bg-white p-2.5;
  
  h3 {
    @apply text-[#4682b4] mb-2.5;
  }
}

.dam-component,
.purification-plant-component,
.power-plant-component,
.distribution-component,
.weather-station-component,
.irrigation-component,
.wastewater-treatment-component,
.water-quality-component,
.flood-prediction-component,
.user-consumption-component,
.glacier-component {
  @extend %component-base;
}

// Grid area definitions
.dam-component { @apply col-span-2 row-span-2; }
.purification-plant-component { grid-area: power; }
.power-plant-component { grid-area: distribution; }
.distribution-component { grid-area: irrigation; }
.weather-station-component { grid-area: weather; }
.irrigation-component { grid-area: quality; }
.wastewater-treatment-component { grid-area: flood; }
.water-quality-component { grid-area: user; }
.flood-prediction-component { grid-area: power; }
.user-consumption-component { grid-area: distribution; }
.glacier-component { grid-area: glacier; }

// Styles sp√©cifiques pour le composant Dam
.dam-component {
  @apply relative overflow-hidden min-h-[400px] flex flex-col;

  h3 {
    @apply text-black z-10;
  }

  .water-level {
    @apply absolute bottom-0 left-0 w-full h-0 max-h-full bg-gradient-to-t from-[hsl(201,100%,15%)] via-[hsl(201,100%,35%)_50%] to-[hsl(201,100%,55%)] bg-[length:100%_200%] transition-[height] duration-500 ease-in-out;
  }

  .water-level-info {
    @apply absolute top-10 left-2.5 bg-white/70 p-1.5 rounded;

    &.critical {
      @apply text-red-600 font-bold;
    }

    &.warning {
      @apply text-orange-500 font-bold;
    }
  }

  .water-volume-info {
    @apply absolute z-10 top-[70px] left-2.5 bg-white/70 p-1.5 rounded;
  }

  .glacier-inflow-info {
    @apply absolute top-2.5 right-2.5 z-10 bg-white/70 p-1.5 rounded italic;
  }

  .dam-controls {
    @apply absolute bottom-2.5 left-2.5 right-2.5 flex justify-between items-center bg-white/70 p-2.5 rounded;

    input[type="range"] {
      @apply flex-grow mr-2.5;
    }
  }
}

.component-content {
  @apply min-h-0 overflow-auto;
}

// Styles communs pour les indicateurs
%indicator-base {
  @apply h-2.5 transition-all duration-300 ease-in-out;
}

.purification-indicator,
.power-indicator,
.quality-indicator,
.risk-indicator,
.consumption-indicator {
  @extend %indicator-base;
}

// Media queries
@media (max-width: 1024px) {
  .water-system {
    &__components {
      @apply grid-cols-2;
      grid-template-areas:
        "glacier dam"
        "weather power"
        "quality distribution"
        "irrigation flood"
        "flood .";
    }
  }
}

@media (max-width: 768px) {
  .water-system {
    &__components {
      @apply grid-cols-1;
      grid-template-areas:
        "dam"
        "glacier"
        "weather"
        "power"
        "distribution"
        "irrigation"
        "quality"
        "flood"
        "user";
    }
  }
}